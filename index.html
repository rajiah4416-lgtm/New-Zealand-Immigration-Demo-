<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NZ Employment Agreement - Interactive</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        :root {
            --nz-blue: #00247d;
            --nz-red: #cc142b;
            --paper-bg: #ffffff;
            --sidebar-width: 350px;
        }

        body { 
            background: #444; 
            margin: 0; 
            display: flex; 
            font-family: 'Times New Roman', Times, serif; 
        }

        /* SIDEBAR EDITOR */
        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            background: #222;
            color: white;
            padding: 20px;
            box-sizing: border-box;
            position: fixed;
            overflow-y: auto;
            border-right: 2px solid var(--nz-blue);
            z-index: 1000;
        }

        .sidebar h3 { color: #8e7341; border-bottom: 1px solid #444; padding-bottom: 10px; }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-size: 11px; color: #aaa; text-transform: uppercase; margin-bottom: 5px; }
        .input-group input, .input-group select { 
            width: 100%; padding: 8px; background: #333; border: 1px solid #444; color: white; border-radius: 4px;
        }

        .download-btn {
            width: 100%; padding: 15px; background: var(--nz-red); color: white; border: none;
            font-weight: bold; cursor: pointer; border-radius: 4px; margin-top: 20px;
        }

        /* DOCUMENT PREVIEW */
        .main-content {
            margin-left: var(--sidebar-width);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .page {
            width: 210mm;
            min-height: 297mm;
            background: var(--paper-bg);
            padding: 20mm;
            margin-bottom: 30px;
            box-sizing: border-box;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            page-break-after: always;
        }

        .header { border-bottom: 3px solid var(--nz-blue); display: flex; justify-content: space-between; align-items: center; padding-bottom: 10px; }
        .nz-flag { width: 80px; }
        h1 { color: var(--nz-blue); font-size: 24px; margin: 0; }
        
        .section-title { background: #eee; padding: 5px 10px; font-weight: bold; border-left: 5px solid var(--nz-blue); margin: 20px 0 10px 0; font-size: 14px; }
        
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ccc; padding: 8px; font-size: 12px; text-align: left; }
        th { background: #f4f4f4; width: 30%; }

        .qr-area { margin-top: 15px; display: flex; flex-direction: column; align-items: center; }
        #qrcode-container { padding: 10px; background: white; border: 1px solid #ddd; }

        .footer-note { position: absolute; bottom: 15mm; font-size: 10px; color: #999; border-top: 1px solid #eee; width: calc(100% - 40mm); }

        @media print {
            .sidebar { display: none; }
            .main-content { margin-left: 0; padding: 0; }
            .page { margin: 0; box-shadow: none; border: none; }
            body { background: white; }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <h3>Agreement Editor</h3>
        
        <div class="input-group">
            <label>NZ Immigration Ref #</label>
            <input type="text" id="in_ref" value="NZ-REF-8849201" oninput="sync()">
        </div>

        <div class="input-group">
            <label>Job Category</label>
            <select id="in_job" onchange="sync()">
                <option>Restaurant Waiter</option>
                <option>Hotel Service Worker</option>
                <option>Construction Worker</option>
                <option>General Worker</option>
            </select>
        </div>

        <h3>Company Info</h3>
        <div class="input-group"><label>Name</label><input type="text" id="in_cname" value="ALBANY CONSTRUCTION NZ" oninput="sync()"></div>
        <div class="input-group"><label>Address</label><input type="text" id="in_caddr" value="15 Victoria St, Auckland 1010" oninput="sync()"></div>
        <div class="input-group"><label>Tax ID (IRD)</label><input type="text" id="in_ctax" value="99-281-344" oninput="sync()"></div>

        <h3>Client Info</h3>
        <div class="input-group"><label>Client Full Name</label><input type="text" id="in_name" value="LUQMAN ALI" oninput="sync()"></div>
        <div class="input-group"><label>Passport #</label><input type="text" id="in_pass" value="BU1835591" oninput="sync()"></div>
        <div class="input-group"><label>DOB</label><input type="text" id="in_dob" value="08/08/2001" oninput="sync()"></div>
        <div class="input-group"><label>Join Date</label><input type="text" id="in_join" value="01/05/2026" oninput="sync()"></div>

        <button class="download-btn" onclick="generatePDF()">DOWNLOAD 3-PAGE PDF</button>
    </div>

    <div class="main-content">
        
        <div class="page">
            <div class="header">
                <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg" class="nz-flag">
                <div>
                    <h1>EMPLOYMENT OFFER</h1>
                    <small>REF: <span id="out_ref">NZ-REF-8849201</span></small>
                </div>
            </div>

            <div class="section-title">1. PARTIES TO THE AGREEMENT</div>
            <table>
                <tr><th>Employer</th><td><b id="out_cname">ALBANY CONSTRUCTION NZ</b><br><span id="out_caddr">15 Victoria St, Auckland 1010</span></td></tr>
                <tr><th>Tax Number</th><td id="out_ctax">99-281-344</td></tr>
                <tr><th>Employee</th><td><b id="out_name">LUQMAN ALI</b><br>Passport: <span id="out_pass">BU1835591</span></td></tr>
                <tr><th>Date of Birth</th><td id="out_dob">08/08/2001</td></tr>
            </table>

            <div class="section-title">2. POSITION & DURATION</div>
            <p>The employer offers a position of <b id="out_job">Construction Worker</b> for a fixed-term duration of <b>Three (3) Years</b>. This offer is subject to the Accredited Employer Work Visa (AEWV) regulations.</p>
            
            <table>
                <tr><th>Joining Date</th><td id="out_join">01/05/2026</td></tr>
                <tr><th>Visa Validity</th><td>36 Months (3 Years)</td></tr>
                <tr><th>Salary Rate</th><td>NZD $29.66 per hour (Standard NZ rate)</td></tr>
            </table>

            <div class="footer-note">Page 1 of 3 - NZ Immigration Compliance Document</div>
        </div>

        <div class="page">
            <div class="section-title">3. BENEFITS & ENTITLEMENTS</div>
            <p>Under NZ Law, the following provisions are strictly handled by the company:</p>
            <table>
                <tr><td><b>Flight Tickets</b></td><td>Annual return airfare provided by the company.</td></tr>
                <tr><td><b>Medical Cover</b></td><td>Full health insurance and ACC coverage provided.</td></tr>
                <tr><td><b>Accommodation</b></td><td>Company-provided residence including utilities.</td></tr>
                <tr><td><b>Transport</b></td><td>Daily transport from accommodation to site provided.</td></tr>
                <tr><td><b>Sick Leave</b></td><td>10 days per annum after 6 months.</td></tr>
            </table>

            <div class="section-title">4. SALARY & BANKING</div>
            <p>Salary is paid fortnightly via direct bank transfer to a New Zealand nominated bank account. The company provides assistance in opening the bank account upon arrival.</p>

            <div class="footer-note">Page 2 of 3 - Confidential Employment Agreement</div>
        </div>

        <div class="page">
            <div class="section-title">5. PRIVACY & POLICY</div>
            <p><b>Privacy Act 2020:</b> Personal data is protected and used only for Immigration and employment purposes. <b>Company Policy:</b> All employees must follow NZ Health & Safety at Work Act 2015.</p>

            <div class="section-title">6. FINAL EXECUTION</div>
            <div style="margin-top: 50px; display: flex; justify-content: space-between;">
                <div style="width: 45%; border-top: 2px solid #000; padding-top: 10px;">
                    <b>Employer Signature</b><br><small>Managing Director</small>
                </div>
                <div style="width: 45%; border-top: 2px solid #000; padding-top: 10px; position: relative;">
                    <b>Employee Signature</b><br><span id="out_name_sig">LUQMAN ALI</span>
                    
                    <div class="qr-area">
                        <div id="qrcode-container"></div>
                        <small style="font-size: 8px; margin-top: 5px;">SCAN TO VERIFY</small>
                    </div>
                </div>
            </div>

            <div style="margin-top: 80px; border: 1px dashed #aaa; padding: 20px; text-align: center;">
                <div style="font-weight: bold; color: var(--nz-blue);">OFFICIAL STAMP OF NEW ZEALAND IMMIGRATION</div>
                <div style="height: 60px;"></div>
            </div>

            <div class="footer-note">Page 3 of 3 - End of Three Year Agreement</div>
        </div>

    </div>

    <script>
        function sync() {
            // Parties
            document.getElementById('out_ref').innerText = document.getElementById('in_ref').value;
            document.getElementById('out_cname').innerText = document.getElementById('in_cname').value;
            document.getElementById('out_caddr').innerText = document.getElementById('in_caddr').value;
            document.getElementById('out_ctax').innerText = document.getElementById('in_ctax').value;
            
            const name = document.getElementById('in_name').value;
            const pass = document.getElementById('in_pass').value;
            
            document.getElementById('out_name').innerText = name;
            document.getElementById('out_name_sig').innerText = name;
            document.getElementById('out_pass').innerText = pass;
            document.getElementById('out_dob').innerText = document.getElementById('in_dob').value;
            document.getElementById('out_join').innerText = document.getElementById('in_join').value;
            document.getElementById('out_job').innerText = document.getElementById('in_job').value;

            updateQR(name, pass);
        }

        function updateQR(name, pass) {
            const qrContainer = document.getElementById("qrcode-container");
            qrContainer.innerHTML = "";
            const data = `NZ-AEWV-VERIFY\nNAME: ${name}\nPASS: ${pass}\nREF: ${document.getElementById('in_ref').value}`;
            new QRCode(qrContainer, { text: data, width: 80, height: 80 });
        }

        function generatePDF() {
            const name = document.getElementById('in_name').value;
            const pass = document.getElementById('in_pass').value;
            document.title = `${name}_${pass}_NewZealand`;
            window.print();
        }

        // Initial Load
        sync();
    </script>
</body>
</html>
