<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Immigration Service Delivery | Case Management</title>
    <style>
        :root { --ireland-green: #169b62; --ireland-orange: #ff883e; --ireland-blue: #003366; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: #f4f7f6; overflow-x: hidden; }

        /* Irish Side Branding */
        .side-branding { position: fixed; left: 0; top: 0; bottom: 0; width: 8px; display: flex; flex-direction: column; z-index: 1000; }
        .stripe-green { background: var(--ireland-green); flex: 1; }
        .stripe-white { background: #fff; flex: 1; }
        .stripe-orange { background: var(--ireland-orange); flex: 1; }

        /* Header & Navigation */
        .top-nav { background: var(--ireland-blue); color: white; padding: 10px 50px; display: flex; justify-content: space-between; font-size: 0.8rem; }
        header { background: white; padding: 20px 50px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .nav-links button { background: none; border: none; font-weight: bold; color: var(--ireland-blue); cursor: pointer; padding: 10px 20px; border-bottom: 3px solid transparent; }
        .nav-links button.active { border-bottom: 3px solid var(--ireland-green); color: var(--ireland-green); }

        /* Page Layout */
        .page { display: none; padding: 40px 100px; animation: fadeIn 0.3s; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Form Styling */
        .entry-card { background: white; padding: 40px; border-radius: 8px; max-width: 600px; margin: auto; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .form-group { margin-bottom: 20px; }
        label { display: block; font-size: 0.75rem; font-weight: bold; margin-bottom: 8px; text-transform: uppercase; color: #666; }
        input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; }
        .btn-add { background: var(--ireland-green); color: white; border: none; width: 100%; padding: 15px; font-weight: bold; cursor: pointer; border-radius: 4px; }

        /* Table Styling */
        .ledger-card { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 15px; background: #f8f9fa; border-bottom: 2px solid #eee; font-size: 0.8rem; }
        td { padding: 15px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        
        /* Status Indicators */
        .status { padding: 5px 10px; border-radius: 20px; font-size: 0.75rem; font-weight: bold; }
        .status-approval { background: #e6fffa; color: #234e52; }
        .status-rejection { background: #fff5f5; color: #822727; }
        .status-waiting { background: #fffaf0; color: #7b341e; }
    </style>
</head>
<body>

<div class="side-branding">
    <div class="stripe-green"></div><div class="stripe-white"></div><div class="stripe-orange"></div>
</div>

<div class="top-nav">
    <div id="dublin-time">Dublin: --:--:-- | Local: --:--:--</div>
    <div>Department of Justice - Immigration Service Delivery</div>
</div>

<header>
    <div style="display: flex; align-items: center;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Flag_of_Ireland.svg" width="40" style="margin-right: 15px;">
        <h1 style="font-size: 1.4rem; margin: 0;">An tSeirbh√≠s Inimirce</h1>
    </div>
    <div class="nav-links">
        <button id="btn-entry" class="active" onclick="showPage('entry')">Client Entry</button>
        <button id="btn-ledger" onclick="showPage('ledger')">Active Ledger</button>
    </div>
</header>

<div id="page-entry" class="page active">
    <div class="entry-card">
        <h2 style="margin-top:0;">Client Registration</h2>
        <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="c_name" placeholder="John Doe">
        </div>
        <div class="form-group">
            <label>Passport Number</label>
            <input type="text" id="c_pass" placeholder="L1234567">
        </div>
        <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" id="c_dob">
        </div>
        <div class="form-group">
            <label>Visa Reference Number</label>
            <input type="text" id="c_visa" placeholder="IRE-990022">
        </div>
        <div class="form-group">
            <label>Application Status</label>
            <select id="c_status">
                <option value="waiting">Waiting / Pending</option>
                <option value="approval">Approval</option>
                <option value="rejection">Rejection</option>
            </select>
        </div>
        <button class="btn-add" onclick="saveClient()">Add to Ledger</button>
    </div>
</div>

<div id="page-ledger" class="page">
    <div class="ledger-card">
        <h2>Active Case Ledger</h2>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Passport</th>
                    <th>Visa No.</th>
                    <th>DOB</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="ledger-body">
                </tbody>
        </table>
    </div>
</div>

<script>
    // Live Dublin Time
    function updateClock() {
        const now = new Date();
        const dublin = new Intl.DateTimeFormat('en-GB', { hour: '2-digit', minute: '2-digit', second: '2-digit', timeZone: 'Europe/Dublin', hour12: false }).format(now);
        const local = now.toLocaleTimeString('en-GB', { hour12: false });
        document.getElementById('dublin-time').innerText = `Dublin: ${dublin} | Local: ${local}`;
    }
    setInterval(updateClock, 1000);

    // Navigation Logic
    function showPage(pageId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active'));
        document.getElementById('page-' + pageId).classList.add('active');
        document.getElementById('btn-' + pageId).classList.add('active');
    }

    // Data Management
    let clientRecords = [];

    function saveClient() {
        const record = {
            name: document.getElementById('c_name').value.toUpperCase(),
            pass: document.getElementById('c_pass').value,
            dob: document.getElementById('c_dob').value,
            visa: document.getElementById('c_visa').value,
            status: document.getElementById('c_status').value
        };

        if(!record.name || !record.pass) {
            alert("Please complete required fields.");
            return;
        }

        clientRecords.push(record);
        updateLedger();
        
        // Switch to Ledger Page after saving
        showPage('ledger');
        
        // Clear Form
        document.getElementById('c_name').value = "";
        document.getElementById('c_pass').value = "";
    }

    function updateLedger() {
        const tbody = document.getElementById('ledger-body');
        tbody.innerHTML = "";
        clientRecords.forEach(r => {
            const row = `<tr>
                <td><strong>${r.name}</strong></td>
                <td>${r.pass}</td>
                <td>${r.visa}</td>
                <td>${r.dob}</td>
                <td><span class="status status-${r.status}">${r.status.toUpperCase()}</span></td>
            </tr>`;
            tbody.innerHTML += row;
        });
    }
</script>

</body>
</html>
