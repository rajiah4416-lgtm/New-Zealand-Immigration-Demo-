<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Azərbaycan Respublikası - Glowing Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Arimo:wght@400;700;900&display=swap');
        
        :root {
            --az-blue: #0092bc;
            --az-red: #e4181c;
            --az-green: #009739;
            /* Rainbow background with national colors subtly blended */
            --bg-glow: radial-gradient(circle at 50% 50%, #ffffff 0%, #e0f2fe 40%, #fef2f2 70%, #f0fdf4 100%);
        }

        body { 
            font-family: 'Arimo', sans-serif; 
            background: #020617; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 20px; 
            color: #111;
        }

        /* The Main Card Container with Outer Glow */
        .trc-ultimate {
            width: 850px;
            height: 540px;
            background: var(--bg-glow);
            border-radius: 20px;
            position: relative;
            padding: 25px 45px;
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 50px rgba(0, 146, 188, 0.3), 0 0 100px rgba(228, 24, 28, 0.2);
            overflow: hidden;
        }

        /* Animated Light Sweep (The "Glow" Effect) */
        .trc-ultimate::after {
            content: "";
            position: absolute;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: linear-gradient(115deg, transparent 0%, transparent 40%, rgba(255,255,255,0.6) 50%, transparent 60%, transparent 100%);
            animation: sweep 6s infinite linear;
            pointer-events: none;
        }

        @keyframes sweep {
            0% { transform: translate(-20%, -20%); }
            100% { transform: translate(10%, 10%); }
        }

        /* National Flag Top Ribbon - Thicker and Vibrant */
        .ribbon {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 12px;
            display: flex;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .ribbon .b { background: var(--az-blue); flex: 1; }
        .ribbon .r { background: var(--az-red); flex: 1; }
        .ribbon .g { background: var(--az-green); flex: 1; }

        /* Holographic State Seal */
        .holo-seal {
            position: absolute;
            top: 40px;
            right: 40px;
            width: 110px;
            height: 110px;
            background: linear-gradient(135deg, #cbd5e1 0%, #0092bc 50%, #e4181c 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.6;
            mix-blend-mode: color-burn;
            border: 2px solid white;
            box-shadow: 0 0 20px rgba(255,255,255,0.8);
            filter: brightness(1.2);
        }

        .mrz { font-family: 'Share Tech Mono', monospace; letter-spacing: 6.5px; font-size: 22px; color: #0f172a; }
        .label-az { font-size: 13px; font-weight: 900; color: #1e293b; text-transform: uppercase; }
        .label-en { font-size: 11px; font-weight: 400; color: #475569; font-style: italic; }
        .val { font-size: 18px; font-weight: 900; color: #000; text-transform: uppercase; letter-spacing: 0.5px; }
        
        .photo-frame {
            width: 215px;
            height: 285px;
            background: white;
            border: 1px solid #94a3b8;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.1);
            position: relative;
            z-index: 2;
        }

        .no-print { z-index: 1000; }
    </style>
</head>
<body>

    <div class="no-print bg-white p-8 rounded-3xl shadow-2xl w-[900px] mb-8 border-t-8 border-[#0092bc] grid grid-cols-1 gap-6">
        <h1 class="text-center font-black text-2xl text-slate-800 tracking-widest">AZERBAIJAN TRC GENERATOR (GLOW EDITION)</h1>
        <div class="grid grid-cols-3 gap-4">
            <input type="file" class="border p-2 rounded-lg text-xs" onchange="load(this)">
            <input id="iS" placeholder="Soyad (Surname)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iN" placeholder="Ad (Name)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iNat" placeholder="Vətəndaşlıq (Nationality)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iCat" placeholder="Kateqoriya (Category)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iDob" placeholder="Doğum Tarixi (DD.MM.YYYY)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iCit" placeholder="Şəhər (City)" class="p-3 border rounded-xl outline-blue-500">
            <input id="iIss" placeholder="Verilmə (DD.MM.YYYY)" class="p-2 border rounded-xl">
            <input id="iExp" placeholder="Etibarlıdır (DD.MM.YYYY)" class="p-2 border rounded-xl">
        </div>
        <div class="flex gap-4">
            <button onclick="sync()" class="flex-1 bg-black text-white py-4 rounded-2xl font-bold hover:scale-105 transition-all">REFRESH CARD</button>
            <button onclick="download()" class="flex-1 bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-xl hover:bg-blue-700 transition-all">DOWNLOAD GLOW CARD</button>
        </div>
    </div>

    <div id="capture">
        <div class="trc-ultimate">
            <div class="ribbon"><div class="b"></div><div class="r"></div><div class="g"></div></div>
            
            <div class="holo-seal">
                <img src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Emblem_of_Azerbaijan.svg" class="w-16 grayscale brightness-200">
            </div>

            <div class="flex justify-between items-start pt-6">
                <div class="flex gap-6">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Emblem_of_Azerbaijan.svg" class="h-24 filter drop-shadow-md">
                    <div>
                        <p class="font-black text-[17px] text-slate-900 leading-none">AZƏRBAYCAN RESPUBLİKASININ ƏRAZİSİNDƏ</p>
                        <p class="font-black text-[17px] text-slate-900 leading-none mt-1">MÜVƏQQƏTİ YAŞAMAQ ÜÇÜN İCAZƏ VƏSİQƏSİ</p>
                        <p class="font-bold text-[14px] text-[#0092bc] tracking-widest mt-2">PERMIT FOR TEMPORARY RESIDENCE</p>
                    </div>
                </div>
                <div class="pr-4 text-right">
                    <p class="text-[13px] font-black uppercase">Seriya <span class="text-red-600">MYİ</span> № <span id="oSer">6810911</span></p>
                </div>
            </div>

            <div class="flex gap-12 mt-12">
                <div class="photo-frame overflow-hidden">
                    <img id="oImg" class="w-full h-full object-cover hidden">
                    <div id="placeholder" class="w-full h-full bg-slate-100 flex items-center justify-center text-slate-400 text-xs">PHOTO</div>
                </div>

                <div class="flex-1 grid grid-cols-2 gap-y-5">
                    <div>
                        <p class="label-az">Soyad/</p><p class="label-en">Surname</p>
                        <p id="oS" class="val">RAHAT</p>
                    </div>
                    <div class="pl-8">
                        <p class="label-az">Soyad (AZ)</p><p class="label-en">Surname</p>
                        <p id="oSAz" class="val">RAHAT</p>
                    </div>

                    <div>
                        <p class="label-az">Ad/</p><p class="label-en">Given Name</p>
                        <p id="oN" class="val">ALI</p>
                    </div>
                    <div class="pl-8">
                        <p class="label-az">Kateqoriya/</p><p class="label-en">Category</p>
                        <p id="oCat" class="val text-blue-700">İŞÇİ / WORKER</p>
                    </div>

                    <div>
                        <p class="label-az">Vətəndaşlıq/</p><p class="label-en">Nationality</p>
                        <p id="oNat" class="val">PAKISTAN</p>
                    </div>
                    <div class="pl-8">
                        <p class="label-az">Doğulduğu yer/</p><p class="label-en">City / Birth</p>
                        <p id="oCit" class="val">BAUK</p>
                    </div>

                    <div>
                        <p class="label-az">Doğum tarixi/</p><p class="label-en">Date of birth</p>
                        <p id="oDob" class="val">09.08.1998</p>
                    </div>
                    <div class="pl-8">
                        <p class="label-az">Verilmə tarixi/</p><p class="label-en">Issue Date</p>
                        <p id="oIss" class="val">05.02.2026</p>
                    </div>

                    <div>
                        <p class="label-az">Verən orqan/</p><p class="label-en">Authority</p>
                        <p class="val text-[14px] text-green-700">DÖVLƏT MİQRASİYA XİDMƏTİ</p>
                    </div>
                    <div class="pl-8">
                        <p class="label-az text-red-600">Etibarlıdır/</p><p class="label-en">Expiry Date</p>
                        <p id="oExp" class="val text-red-600">04.02.2027</p>
                    </div>
                </div>
            </div>

            <div class="absolute bottom-12 left-[45px] right-[45px] pt-4 border-t-2 border-slate-300">
                <p class="mrz" id="m1">ITAZE6810911<<RAHAT<<<<<<<<<<<<</p>
                <p class="mrz" id="m2">9001011M2901017AZE<<<<<<<<<<<<0</p>
            </div>
        </div>
    </div>

    <script>
        function load(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById('oImg').src = e.target.result;
                    document.getElementById('oImg').classList.remove('hidden');
                    document.getElementById('placeholder').style.display = 'none';
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function sync() {
            const get = (id) => document.getElementById(id).value.toUpperCase();
            if(get('iS')) { document.getElementById('oS').innerText = get('iS'); document.getElementById('oSAz').innerText = get('iS'); }
            if(get('iN')) document.getElementById('oN').innerText = get('iN');
            if(get('iNat')) document.getElementById('oNat').innerText = get('iNat');
            if(get('iCat')) document.getElementById('oCat').innerText = get('iCat');
            if(get('iDob')) document.getElementById('oDob').innerText = get('iDob');
            if(get('iCit')) document.getElementById('oCit').innerText = get('iCit');
            if(get('iIss')) document.getElementById('oIss').innerText = get('iIss');
            if(get('iExp')) document.getElementById('oExp').innerText = get('iExp');

            const sn = document.getElementById('oSer').innerText;
            const sur = document.getElementById('oS').innerText;
            document.getElementById('m1').innerText = `ITAZE${sn}<<${sur.padEnd(12, '<')}`;
        }

        function download() {
            html2canvas(document.querySelector("#capture"), {
                scale: 3,
                useCORS: true,
                backgroundColor: "#020617"
            }).then(canvas => {
                let link = document.createElement('a');
                link.download = 'Azerbaijan-TRC-Glow.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
                </html>
