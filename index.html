<!DOCTYPE html>
<html lang="sq">
<head>
    <meta charset="UTF-8">
    <title>Fixed Albania Employment Agreement</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        /* CRITICAL PRINT FIXES */
        @media print {
            body { background: none !important; margin: 0 !important; padding: 0 !important; }
            .controls { display: none !important; }
            .page { 
                margin: 0 !important; 
                box-shadow: none !important; 
                page-break-after: always !important;
                -webkit-print-color-adjust: exact;
            }
        }

        :root { --al-red: #e41e20; --navy: #002341; }
        body { font-family: 'Times New Roman', serif; background: #333; margin: 0; padding: 0; }

        /* UI CONTROLS */
        .controls { 
            position: fixed; left: 0; top: 0; width: 330px; height: 100%; 
            background: #111; color: white; padding: 20px; box-sizing: border-box;
            z-index: 100; font-family: Arial; overflow-y: auto;
        }
        .controls input, .controls select { width: 100%; margin-bottom: 10px; padding: 8px; border-radius: 4px; border: 1px solid #444; background: #222; color: white; }
        .btn-print { width: 100%; padding: 15px; background: var(--al-red); color: white; border: none; font-weight: bold; cursor: pointer; }

        /* PAGE SETUP */
        .page { 
            width: 210mm; height: 296.5mm; /* Strict A4 Height */
            padding: 15mm 20mm; margin: 10px auto; 
            background: white; position: relative; box-sizing: border-box; 
            overflow: hidden;
        }

        /* HEADER */
        .header { display: flex; justify-content: space-between; border-bottom: 3px solid var(--al-red); padding-bottom: 5px; margin-bottom: 15px; height: 45mm; }
        .photo-box { width: 35mm; height: 40mm; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; overflow: hidden; }
        .photo-box img { width: 100%; height: 100%; object-fit: cover; }
        
        /* BILINGUAL COLUMNS */
        .row { display: flex; justify-content: space-between; margin-bottom: 8px; gap: 15px; }
        .col { width: 48%; font-size: 11px; line-height: 1.3; text-align: justify; }
        .sq { font-weight: bold; color: #000; } 
        .en { font-style: italic; color: #444; }

        h2 { font-family: Arial; font-size: 11px; background: #f4f4f4; padding: 4px; border-left: 4px solid var(--al-red); margin-top: 10px; display: flex; justify-content: space-between; text-transform: uppercase; }
        
        /* FOOTER LOGO */
        .footer { position: absolute; bottom: 10mm; left: 0; width: 100%; text-align: center; }
        .footer-logo { border: 1px solid #ddd; display: inline-block; padding: 4px 15px; font-family: Arial; font-weight: bold; font-size: 12px; text-transform: uppercase; }
        .migration-link { font-size: 8px; color: #777; margin-top: 3px; }

        /* JOURNAL */
        .journal-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .journal-table th, .journal-table td { border: 1px solid #ddd; padding: 6px; font-size: 10px; text-align: center; }
    </style>
</head>
<body>

    <div class="controls">
        <h3 style="color:var(--al-red)">Document Settings</h3>
        <label style="font-size:10px">1. UPLOAD PASSPORT PHOTO</label>
        <input type="file" accept="image/*" onchange="loadPhoto(event)">
        
        <input type="text" id="inName" placeholder="Employee Name" value="SHOAIB MUHAMMAD" oninput="sync()">
        <input type="text" id="inPass" placeholder="Passport Number" value="HN5199602" oninput="sync()">
        
        <label style="font-size:10px">GENDER / GJINIA</label>
        <select id="inGender" onchange="sync()"><option value="Male / Mashkull">Male / Mashkull</option><option value="Female / Femër">Female / Femër</option></select>
        
        <input type="text" id="inCity" placeholder="City in Albania (e.g. Tirana)" oninput="sync()">
        <input type="text" id="inSalary" placeholder="Salary in ALL" value="65,000" oninput="sync()">
        
        <label style="font-size:10px">START DATE</label>
        <input type="date" id="inStart" oninput="sync()">
        
        <button class="btn-print" onclick="window.print()">GENERATE PDF</button>
        <p style="font-size: 10px; color: #666; margin-top:10px;">Note: If pages are blank, set "Margins" to "None" in your print window.</p>
    </div>

    <div class="page" id="page1">
        <div class="header">
            <div class="photo-box"><img id="outPhoto" src="https://via.placeholder.com/150x200?text=Photo"></div>
            <div style="flex-grow:1; padding-left:15px;">
                <h1 style="margin:0; font-family: Arial; font-size: 16px;">CALMFORT FOOD LIMITED</h1>
                <p style="font-size:8px; color:var(--al-red); font-weight:bold; margin:2px 0;">KONTRATË PUNE (KAMARIER) / EMPLOYMENT CONTRACT (WAITER)</p>
                <div id="qrcode"></div>
            </div>
            <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Flag_of_Albania.svg" style="width:35px; height:auto;">
        </div>

        <h2><span>1. PALËT</span> <span>1. THE PARTIES</span></h2>
        <div class="row">
            <div class="col sq">Punëdhënësi: <strong>Calmfort Food Limited</strong><br>Adresa: 223 Hardy Street, Nelson, NZ</div>
            <div class="col en">Employer: <strong>Calmfort Food Limited</strong><br>Address: 223 Hardy Street, Nelson, NZ</div>
        </div>
        <div class="row">
            <div class="col sq">Punëmarrësi: <span class="outName">---</span><br>Gjinia: <span class="outGender">---</span></div>
            <div class="col en">Employee: <span class="outName">---</span><br>Gender: <span class="outGender">---</span></div>
        </div>

        <h2><span>2. POZICIONI</span> <span>2. POSITION</span></h2>
        <div class="row">
            <div class="col sq">Punëmarrësi do të shërbejë si <strong>Kamarier</strong> në <span class="outCity">Tirana</span>, Albania.</div>
            <div class="col en">The employee shall serve as a <strong>Waiter</strong> in <span class="outCity">Tirana</span>, Albania.</div>
        </div>

        <div class="footer">
            <div class="footer-logo">CALMFORT FOOD LTD</div>
            <div class="migration-link">mb.gov.al | asp.gov.al | Page 1 of 3</div>
        </div>
    </div>

    <div class="page" id="page2">
        <div class="header" style="height:20mm; border:none;"><h1 style="font-size:14px;">CALMFORT FOOD LIMITED</h1></div>

        <h2><span>3. PAGA DHE PËRFITIMET</span> <span>3. SALARY & BENEFITS</span></h2>
        <div style="border:1px solid var(--al-red); padding:10px; text-align:center; margin:10px 0; background:#f9f9f9;">
            <strong>PAGA BRUTO: Lek <span class="outSalary">---</span> (ALL)</strong>
        </div>

        <h2><span>4. LOGJISTIKA</span> <span>4. LOGISTICS</span></h2>
        <div class="row">
            <div class="col sq"><strong>Ushqimi & Akomodimi:</strong> Sigurohen falas nga kompania gjatë gjithë kohëzgjatjes së kontratës.</div>
            <div class="col en"><strong>Food & Stay:</strong> Provided free by the company for the entire duration of the contract.</div>
        </div>
        <div class="row">
            <div class="col sq"><strong>Transporti & Fluturimi:</strong> Kompania mbulon transportin lokal dhe biletën e fluturimit vajtje-ardhje.</div>
            <div class="col en"><strong>Transport & Flight:</strong> Company covers local transport and round-trip flight tickets.</div>
        </div>

        <div class="footer">
            <div class="footer-logo">CALMFORT FOOD LTD</div>
            <div class="migration-link">e-albania.al | Page 2 of 3</div>
        </div>
    </div>

    <div class="page" id="page3">
        <div class="header" style="height:20mm; border:none;"><h1 style="font-size:14px;">CALMFORT FOOD LIMITED</h1></div>

        <h2><span>5. DITARI I PUNËS (SHEMBULL)</span> <span>5. SHIFT JOURNAL (SAMPLE)</span></h2>
        <table class="journal-table">
            <tr><th>Date</th><th>Start</th><th>End</th><th>Break</th><th>Signature</th></tr>
            <tr><td>Mon</td><td></td><td></td><td></td><td></td></tr>
            <tr><td>Tue</td><td></td><td></td><td></td><td></td></tr>
            <tr><td>Wed</td><td></td><td></td><td></td><td></td></tr>
        </table>

        <div class="row" style="margin-top:60px;">
            <div class="col sq" style="text-align:center; border-top:1px solid #000;">PUNËDHËNËSI (Employer)<br><br>VULA (STAMP)</div>
            <div class="col sq" style="text-align:center; border-top:1px solid #000;">PUNËMARRËSI (Employee)<br><br>________________</div>
        </div>

        <div class="footer">
            <div class="footer-logo">CALMFORT FOOD LTD</div>
            <div class="migration-link">Official Immigration Document | Page 3 of 3</div>
        </div>
    </div>

    <script>
        var qrcode = new QRCode(document.getElementById("qrcode"), { width: 50, height: 50 });
        function loadPhoto(event) {
            var reader = new FileReader();
            reader.onload = function(){ document.getElementById('outPhoto').src = reader.result; };
            reader.readAsDataURL(event.target.files[0]);
        }
        function sync() {
            const vals = {
                'Name': document.getElementById('inName').value,
                'Gender': document.getElementById('inGender').value,
                'Pass': document.getElementById('inPass').value,
                'Salary': document.getElementById('inSalary').value,
                'City': document.getElementById('inCity').value || 'Tirana',
            };
            for (let key in vals) {
                document.querySelectorAll('.out' + key).forEach(el => el.innerText = vals[key]);
            }
            qrcode.clear();
            qrcode.makeCode("CALMFORT-AL:" + vals.Pass);
        }
        sync();
    </script>
</body>
</html>
