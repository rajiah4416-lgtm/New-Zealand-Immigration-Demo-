<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Official Azerbaijan TRC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Share+Tech+Mono&display=swap');
        
        :root {
            /* Official Flag Colors */
            --az-blue: #0092bc;  /* Top Band */
            --az-red: #e4181c;   /* Middle Band */
            --az-green: #009739; /* Bottom Band */
            --card-base: #f7fbf2; /* The exact pale mint-cream base */
        }

        body { font-family: 'Roboto', sans-serif; background: #e5e7eb; }

        .trc-container {
            width: 850px;
            height: 540px;
            background-color: var(--card-base);
            border-radius: 18px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 1px solid #d1d5db;
            overflow: hidden;
        }

        /* Subtle guilloche security pattern from your image */
        .guilloche {
            position: absolute;
            inset: 0;
            opacity: 0.15;
            background-image: radial-gradient(var(--az-blue) 0.5px, transparent 0.5px);
            background-size: 15px 15px;
            pointer-events: none;
        }

        .mrz-font { font-family: 'Share Tech Mono', monospace; letter-spacing: 4px; color: #1f2937; }
        .label-az { font-size: 11px; font-weight: 700; color: #374151; line-height: 1.1; }
        .label-en { font-size: 10px; font-weight: 400; color: #4b5563; font-style: italic; }
        .data-text { font-size: 15px; font-weight: 700; color: #000; text-transform: uppercase; }

        /* Photo Area with standard passport proportions */
        .photo-box {
            width: 190px;
            height: 250px;
            background: #fff;
            border: 1px solid #94a3b8;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="p-10 flex flex-col items-center gap-10">

    <div class="no-print bg-white p-6 rounded-xl shadow-lg w-[850px] border-t-4 border-[#0092bc]">
        <div class="flex items-center gap-4 mb-4">
            <div class="flex flex-col w-8 h-6">
                <div class="h-1/3 bg-[#0092bc]"></div>
                <div class="h-1/3 bg-[#e4181c]"></div>
                <div class="h-1/3 bg-[#009739]"></div>
            </div>
            <h2 class="font-bold text-gray-700">Client Image & Data Input</h2>
        </div>
        <div class="grid grid-cols-3 gap-4">
            <input type="file" id="imgInp" class="text-xs p-2 border rounded" onchange="readURL(this)">
            <input id="inSurname" placeholder="Surname" class="p-2 border rounded text-sm">
            <input id="inName" placeholder="Given Name" class="p-2 border rounded text-sm">
            <input id="inNation" placeholder="Nationality" class="p-2 border rounded text-sm">
            <input id="inIssue" type="date" class="p-2 border rounded text-sm">
            <input id="inExpiry" type="date" class="p-2 border rounded text-sm">
        </div>
        <button onclick="update()" class="w-full mt-4 bg-[#0092bc] text-white font-bold py-2 rounded">GENERATE OFFICIAL CARD</button>
    </div>

    <div class="trc-container" id="capture">
        <div class="guilloche"></div>
        
        <div class="p-6 flex justify-between items-start">
            <div class="flex gap-4">
                <img src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Emblem_of_Azerbaijan.svg" class="h-20" alt="Emblem">
                <div class="pt-1">
                    <p class="font-bold text-[13px] text-[#1f2937]">AZƏRBAYCAN RESPUBLİKASININ ƏRAZİSİNDƏ</p>
                    <p class="font-bold text-[13px] text-[#1f2937]">MÜVƏQQƏTİ YAŞAMAQ ÜÇÜN İCAZƏ VƏSİQƏSİ</p>
                    <p class="font-bold text-[12px] text-[#0092bc] mt-1">PERMIT FOR TEMPORARY RESIDENCE</p>
                    <p class="font-medium text-[9px] text-gray-500 uppercase tracking-tighter">In the territory of the Republic of Azerbaijan</p>
                </div>
            </div>
            <div class="text-right">
                <p class="text-[11px] font-bold">Seriya/Series <span class="text-[#e4181c]">MYİ</span> № <span id="outCardNo">1234567</span></p>
            </div>
        </div>

        <div class="px-10 flex gap-12 mt-4">
            <div class="photo-box overflow-hidden">
                <img id="outPhoto" class="w-full h-full object-cover hidden">
            </div>

            <div class="flex-1 grid grid-cols-2 gap-y-4">
                <div>
                    <p class="label-az">Soyad/</p><p class="label-en">Surname</p>
                    <p id="outSurname" class="data-text">---</p>
                </div>
                <div class="pl-10">
                    <p class="label-az">Soyad</p>
                    <p id="outSurnameAz" class="data-text">---</p>
                </div>

                <div>
                    <p class="label-az">Ad/</p><p class="label-en">Name</p>
                    <p id="outName" class="data-text">---</p>
                </div>
                <div class="pl-10">
                    <p class="label-az">Ad</p>
                    <p id="outNameAz" class="data-text">---</p>
                </div>

                <div>
                    <p class="label-az">Vətəndaşlıq/</p><p class="label-en">Nationality</p>
                    <p id="outNation" class="data-text">---</p>
                </div>
                <div class="pl-10">
                    <p class="label-az">Vətəndaşlıq</p>
                    <p id="outNationAz" class="data-text">---</p>
                </div>

                <div>
                    <p class="label-az">İcazənin verilmə tarixi/</p><p class="label-en">Date of issue</p>
                    <p id="outIssue" class="data-text">---</p>
                </div>
                <div class="pl-10">
                    <p class="label-az">Etibarlıdır/</p><p class="label-en">Date of expiry</p>
                    <p id="outExpiry" class="data-text text-[#e4181c]">---</p>
                </div>
            </div>
        </div>

        <div class="absolute bottom-8 left-10 right-10 border-t border-gray-300 pt-4">
            <p class="mrz-font text-[18px]" id="mrz1">ITAZE1234567<<<<<<<<<<<<<<<<<<</p>
            <p class="mrz-font text-[18px]" id="mrz2">9001011M2901017AZE<<<<<<<<<<<0</p>
        </div>
    </div>

    <script>
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('outPhoto').src = e.target.result;
                    document.getElementById('outPhoto').classList.remove('hidden');
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function update() {
            const get = (id) => document.getElementById(id).value.toUpperCase();
            document.getElementById('outSurname').innerText = get('inSurname');
            document.getElementById('outSurnameAz').innerText = get('inSurname');
            document.getElementById('outName').innerText = get('inName');
            document.getElementById('outNameAz').innerText = get('inName');
            document.getElementById('outNation').innerText = get('inNation');
            document.getElementById('outNationAz').innerText = get('inNation');
            
            const iD = document.getElementById('inIssue').value ? new Date(document.getElementById('inIssue').value).toLocaleDateString('en-GB').replace(/\//g, '.') : "---";
            const eD = document.getElementById('inExpiry').value ? new Date(document.getElementById('inExpiry').value).toLocaleDateString('en-GB').replace(/\//g, '.') : "---";
            
            document.getElementById('outIssue').innerText = iD;
            document.getElementById('outExpiry').innerText = eD;
            
            const num = Math.floor(1000000 + Math.random() * 9000000);
            document.getElementById('outCardNo').innerText = num;
            document.getElementById('mrz1').innerText = `ITAZE${num}<<${get('inSurname')}<<<<<<<<<<<<<`;
        }
    </script>
</body>
            </html>
