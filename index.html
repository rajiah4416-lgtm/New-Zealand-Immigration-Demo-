<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NZ Regional TRC Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=OCR+A+Std&display=swap');
        
        :root {
            --nz-navy: #002D5A;
            --nz-blue-light: #F0F4F8;
        }

        body { font-family: 'Inter', sans-serif; background: var(--nz-blue-light); color: var(--nz-navy); }
        
        .trc-card {
            width: 800px;
            height: 500px;
            background: white;
            border: 3px solid var(--nz-navy);
            border-radius: 12px;
            position: relative;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .mrz-font { font-family: 'OCR A Std', monospace; letter-spacing: 3px; }
        .label { font-size: 10px; font-weight: 900; color: #555; text-transform: uppercase; }
        .data { font-size: 16px; font-weight: 700; color: var(--nz-navy); }
        
        .no-print { display: block; }
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
        }
    </style>
</head>
<body class="p-10 flex flex-col items-center">

    <div class="max-w-4xl w-full no-print bg-white p-8 rounded-2xl shadow-lg mb-12 border-t-8 border-[#002D5A]">
        <h2 class="text-2xl font-black mb-6">REGIONAL ISSUANCE SYSTEM</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
            <div class="p-6 border-2 border-dashed border-slate-300 rounded-xl bg-slate-50 flex flex-col items-center justify-center">
                <p class="text-xs font-bold mb-2">CLIENT PHOTO UPLOAD</p>
                <input type="file" id="photoInput" accept="image/*" class="text-[10px]" onchange="previewImage(event)">
                <p class="text-[9px] mt-2 text-slate-400">Select .JPG or .PNG for biometric area</p>
            </div>
            
            <div class="grid grid-cols-1 gap-3">
                <input id="surname" placeholder="Surname (Soyad)" class="p-3 bg-slate-50 rounded-lg border-none outline-none ring-1 ring-slate-200">
                <input id="name" placeholder="Name (Ad)" class="p-3 bg-slate-50 rounded-lg border-none outline-none ring-1 ring-slate-200">
                <input id="nation" placeholder="Nationality" class="p-3 bg-slate-50 rounded-lg border-none outline-none ring-1 ring-slate-200">
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <input id="issue" type="date" class="p-3 bg-slate-50 rounded-lg border-none ring-1 ring-slate-200">
            <input id="expiry" type="date" class="p-3 bg-slate-50 rounded-lg border-none ring-1 ring-slate-200">
            <input id="passNo" placeholder="Passport Number" class="p-3 bg-slate-50 rounded-lg border-none ring-1 ring-slate-200">
        </div>

        <button onclick="generate()" class="w-full mt-6 bg-[#002D5A] text-white py-4 rounded-xl font-black uppercase tracking-widest hover:bg-blue-900">
            Finalize Regional TRC
        </button>
    </div>

    <div id="output" class="hidden space-y-12">
        <div class="trc-card">
            <div class="flex justify-between items-start mb-8">
                <div class="flex gap-4">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/d/dd/Emblem_of_Azerbaijan.svg" class="h-14" style="filter: grayscale(100%) brightness(50%);">
                    <div>
                        <p class="font-black text-xs">MÜVƏQQƏTİ YAŞAMAQ ÜÇÜN İCAZƏ VƏSİQƏSİ</p>
                        <p class="font-bold text-[10px] text-blue-600">PERMIT FOR TEMPORARY RESIDENCE</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="text-[10px] font-black">Seriya MYİ № <span id="outNo">0000000</span></p>
                </div>
            </div>

            <div class="flex gap-8">
                <div class="w-40 h-52 bg-slate-100 border border-slate-300 rounded overflow-hidden">
                    <img id="photoPreview" class="w-full h-full object-cover hidden">
                    <div id="photoPlaceholder" class="w-full h-full flex items-center justify-center text-[10px] font-bold text-slate-400 text-center p-4">PHOTO AREA</div>
                </div>

                <div class="flex-1 grid grid-cols-2 gap-y-4">
                    <div><p class="label">Surname</p><p id="outSurname" class="data">---</p></div>
                    <div><p class="label">Soyad</p><p id="outSurnameAz" class="data">---</p></div>
                    <div><p class="label">Name</p><p id="outName" class="data">---</p></div>
                    <div><p class="label">Ad</p><p id="outNameAz" class="data">---</p></div>
                    <div><p class="label">Nationality</p><p id="outNation" class="data">---</p></div>
                    <div><p class="label">Issue Date</p><p id="outIssue" class="data">---</p></div>
                    <div><p class="label">Expiry Date</p><p id="outExpiry" class="data">---</p></div>
                    <div><p class="label">Passport</p><p id="outPass" class="data">---</p></div>
                </div>
            </div>

            <div class="absolute bottom-8 left-10 right-10 border-t pt-4">
                <p class="mrz-font text-sm uppercase" id="mrz1">ITAZE<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<</p>
                <p class="mrz-font text-sm uppercase" id="mrz2">00000000<<<<<<<<<<<<<<<<<<<<<<<<</p>
            </div>
        </div>
    </div>

    <script>
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function() {
                const output = document.getElementById('photoPreview');
                output.src = reader.result;
                output.classList.remove('hidden');
                document.getElementById('photoPlaceholder').classList.add('hidden');
            }
            reader.readAsDataURL(event.target.files[0]);
        }

        function generate() {
            const get = id => document.getElementById(id).value.toUpperCase();
            document.getElementById('outSurname').innerText = get('surname');
            document.getElementById('outSurnameAz').innerText = get('surname');
            document.getElementById('outName').innerText = get('name');
            document.getElementById('outNameAz').innerText = get('name');
            document.getElementById('outNation').innerText = get('nation');
            document.getElementById('outIssue').innerText = get('issue');
            document.getElementById('outExpiry').innerText = get('expiry');
            document.getElementById('outPass').innerText = get('passNo');
            
            const cardNum = Math.floor(1000000 + Math.random() * 9000000);
            document.getElementById('outNo').innerText = cardNum;
            
            document.getElementById('mrz1').innerText = `ITAZE${cardNum}<<${get('surname')}<<<<<<<<<<<<<`;
            document.getElementById('mrz2').innerText = `${get('passNo')}<<<<<<<<<<<<<<<<<<<<<<<<`;

            document.getElementById('output').classList.remove('hidden');
        }
    </script>
</body>
    </html>
