<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NZ Employment Agreement Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root { --nz-blue: #00247D; --nz-red: #CC142B; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #525659; margin: 0; padding: 20px; }
        
        /* Input Panel - Won't show in PDF */
        #input-panel { 
            background: white; padding: 20px; max-width: 800px; margin: 0 auto 30px auto; 
            border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        button { background: #28a745; color: white; padding: 15px; border: none; width: 100%; cursor: pointer; font-size: 16px; margin-top: 20px; }

        /* PDF Styling */
        #pdf-content { background: white; width: 210mm; margin: 0 auto; color: #333; }
        .page { height: 297mm; padding: 25mm; box-sizing: border-box; position: relative; page-break-after: always; border: 15px solid var(--nz-blue); outline: 2px solid var(--nz-red); outline-offset: -10px; }
        
        .header { text-align: center; border-bottom: 3px solid var(--nz-red); padding-bottom: 10px; margin-bottom: 20px; }
        .nz-flag { width: 120px; float: right; }
        .ref-box { background: #eee; padding: 15px; font-weight: bold; border-left: 5px solid var(--nz-red); margin: 20px 0; }
        .kia-ora { font-size: 28px; color: var(--nz-blue); font-weight: bold; margin: 30px 0; border-bottom: 1px solid #ddd; }
        
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        table, th, td { border: 1px solid #444; }
        td { padding: 12px; }
        .label { background-color: #f9f9f9; font-weight: bold; width: 35%; }
        
        .footer-info { position: absolute; bottom: 25mm; font-size: 12px; font-style: italic; }
        .qr-code { float: right; border: 2px solid #000; padding: 5px; text-align: center; width: 100px; }
    </style>
</head>
<body>

    <div id="input-panel">
        <h2>ðŸ‡³ðŸ‡¿ Document Information Entry</h2>
        <div class="input-grid">
            <input type="text" id="in-name" placeholder="Client Full Name" oninput="update()">
            <input type="text" id="in-passport" placeholder="Passport Number" oninput="update()">
            <input type="date" id="in-dob" oninput="update()">
            <input type="text" id="in-country" placeholder="Client Country" oninput="update()">
            <input type="text" id="in-salary" placeholder="Salary (e.g. $28.00/hr)" oninput="update()">
            <select id="in-category" onchange="update()">
                <option value="Restaurant Waiter">Restaurant Waiter</option>
                <option value="Cleaner Worker">Cleaner Worker</option>
                <option value="Mart Worker">Mart Worker</option>
            </select>
            <input type="text" id="in-comp-name" placeholder="Company Name" oninput="update()">
            <input type="text" id="in-comp-num" placeholder="Company Number (NZBN)" oninput="update()">
            <input type="text" id="in-comp-tax" placeholder="Tax/IRD Number" oninput="update()">
            <input type="text" id="in-ref" placeholder="Immigration Ref Number" oninput="update()">
            <input type="date" id="in-join" title="Join Date" oninput="update()">
            <input type="date" id="in-issue" title="Issue Date" oninput="update()">
        </div>
        <button onclick="downloadPDF()">Download 4-Page PDF</button>
    </div>

    <div id="pdf-content">
        <div class="page">
            <div class="header">
                <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Flag_of_New_Zealand.svg" class="nz-flag">
                <h1 style="color: var(--nz-blue);">IMMIGRATION NEW ZEALAND</h1>
                <p>Labour & Employment Division | Work Visa Authorization</p>
            </div>
            <div class="ref-box">OFFICIAL APPROVAL REF: <span id="out-ref">---</span></div>
            <p>This document serves as formal notification that the individual named herein has been approved for employment under the <strong>New Zealand Immigration Act 2009</strong>.</p>
            <h3>Employer Information:</h3>
            <table>
                <tr><td class="label">Company Name</td><td id="out-comp-name">---</td></tr>
                <tr><td class="label">Company Number</td><td id="out-comp-num">---</td></tr>
                <tr><td class="label">Tax/IRD Number</td><td id="out-comp-tax">---</td></tr>
                <tr><td class="label">Business Address</td><td>Official Registered NZ Address</td></tr>
            </table>
        </div>

        <div class="page">
            <div class="kia-ora">KIA ORA, <span id="out-name">---</span></div>
            <h2>Letter of Offer</h2>
            <p>We are delighted to offer you the position of <strong id="out-category">---</strong>.</p>
            <p><strong>Remuneration:</strong> Your starting salary will be <span id="out-salary" style="color:var(--nz-red)">---</span>.</p>
            <p>This offer is contingent upon your agreement to follow the company's internal rules and the laws of New Zealand. Your passport <strong>(<span id="out-passport">---</span>)</strong> has been recorded in our system.</p>
            <div class="footer-info">Issued on: <span id="out-issue">---</span></div>
        </div>

        <div class="page">
            <h2>Employment Agreement (Terms)</h2>
            <p>As per the <strong>Employment Relations Act 2000</strong>, the following benefits are provided:</p>
            <ul>
                <li><strong>Ticket Company:</strong> Airfare provided by approved carrier.</li>
                <li><strong>Food Company:</strong> Full catering or allowance provided.</li>
                <li><strong>Medical:</strong> ACC Insurance & Southern Cross Health coverage.</li>
                <li><strong>Insurance:</strong> Work-safe comprehensive insurance included.</li>
            </ul>
            <p>The employee agrees to join on: <strong><span id="out-join">---</span></strong></p>
            <p>Both parties agree to the Health and Safety at Work Act 2015 standards.</p>
        </div>

        <div class="page">
            <h2>Client Acceptance & Data Form</h2>
            <table>
                <tr><td class="label">Client Name</td><td id="out-name2">---</td></tr>
                <tr><td class="label">Date of Birth</td><td id="out-dob">---</td></tr>
                <tr><td class="label">Nationality</td><td id="out-country">---</td></tr>
                <tr><td class="label">Passport No.</td><td id="out-passport2">---</td></tr>
            </table>
            <br><br>
            <div class="qr-code">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=NZ-VERIFIED" width="80">
                <br><small>SECURE SCAN</small>
            </div>
            <p>I confirm that I have read and understood the terms of this 4-page agreement.</p>
            <br><br><br>
            <div style="border-top: 1px solid #000; width: 300px; padding-top: 10px;">
                Client Signature
            </div>
        </div>
    </div>

    <script>
        function update() {
            // Mapping inputs to outputs
            document.getElementById('out-name').innerText = document.getElementById('in-name').value || '---';
            document.getElementById('out-name2').innerText = document.getElementById('in-name').value || '---';
            document.getElementById('out-passport').innerText = document.getElementById('in-passport').value || '---';
            document.getElementById('out-passport2').innerText = document.getElementById('in-passport').value || '---';
            document.getElementById('out-dob').innerText = document.getElementById('in-dob').value || '---';
            document.getElementById('out-country').innerText = document.getElementById('in-country').value || '---';
            document.getElementById('out-salary').innerText = document.getElementById('in-salary').value || '---';
            document.getElementById('out-category').innerText = document.getElementById('in-category').value;
            document.getElementById('out-comp-name').innerText = document.getElementById('in-comp-name').value || '---';
            document.getElementById('out-comp-num').innerText = document.getElementById('in-comp-num').value || '---';
            document.getElementById('out-comp-tax').innerText = document.getElementById('in-comp-tax').value || '---';
            document.getElementById('out-ref').innerText = document.getElementById('in-ref').value || '---';
            document.getElementById('out-join').innerText = document.getElementById('in-join').value || '---';
            document.getElementById('out-issue').innerText = document.getElementById('in-issue').value || '---';
        }

        function downloadPDF() {
            const element = document.getElementById('pdf-content');
            const opt = {
                margin: 0,
                filename: 'NZ_Employment_Docs.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
                        </html>
