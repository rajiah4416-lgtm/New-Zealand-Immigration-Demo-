<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        body { background-color: #f4f7f6; font-family: 'Segoe UI', sans-serif; }
        .login-page { height: 100vh; display: flex; align-items: center; justify-content: center; }
        .dashboard { display: none; padding: 20px; }
        .card { border: none; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .btn-primary { background-color: #4e73df; border: none; }
        .sidebar { background: #224abe; color: white; min-height: 100vh; padding: 20px; }
    </style>
</head>
<body>

<div id="loginSection" class="login-page">
    <div class="card p-4" style="width: 350px;">
        <h3 class="text-center mb-4">Admin Login</h3>
        <input type="text" id="username" class="form-control mb-3" placeholder="Username (admin)">
        <input type="password" id="password" class="form-control mb-3" placeholder="Password (1234)">
        <button class="btn btn-primary w-100" onclick="handleLogin()">Login</button>
        <p id="loginError" class="text-danger mt-2" style="display:none;">Invalid Credentials</p>
    </div>
</div>

<div id="dashboardSection" class="dashboard container-fluid">
    <div class="row">
        <nav class="col-md-2 sidebar">
            <h4>CMS Admin</h4>
            <hr>
            <button class="btn btn-outline-light w-100 mb-2" onclick="showSection('clientList')">Clients</button>
            <button class="btn btn-outline-light w-100" onclick="logout()">Logout</button>
        </nav>
        
        <main class="col-md-10 p-4">
            <div id="clientList">
                <div class="d-flex justify-content-between mb-4">
                    <h2>Client Directory</h2>
                    <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#addClientModal">+ Add Client</button>
                </div>
                
                <div class="card p-3">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="clientTableBody">
                            </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
</div>

<div class="modal fade" id="addClientModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header"><h5>New Client Information</h5></div>
            <div class="modal-body">
                <input type="text" id="clientName" class="form-control mb-2" placeholder="Full Name">
                <input type="email" id="clientEmail" class="form-control mb-2" placeholder="Email Address">
                <select id="clientStatus" class="form-control">
                    <option value="Active">Active</option>
                    <option value="Pending">Pending</option>
                </select>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="addClient()">Save Client</button>
            </div>
        </div>
    </div>
</div>

<script>
    const { jsPDF } = window.jspdf;
    let clients = [
        { name: "John Doe", email: "john@example.com", status: "Active" }
    ];

    function handleLogin() {
        const user = document.getElementById('username').value;
        const pass = document.getElementById('password').value;
        if(user === 'admin' && pass === '1234') {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('dashboardSection').style.display = 'block';
            renderClients();
        } else {
            document.getElementById('loginError').style.display = 'block';
        }
    }

    function renderClients() {
        const body = document.getElementById('clientTableBody');
        body.innerHTML = '';
        clients.forEach((c, index) => {
            body.innerHTML += `
                <tr>
                    <td>${c.name}</td>
                    <td>${c.email}</td>
                    <td><span class="badge bg-info">${c.status}</span></td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary" onclick="downloadPDF(${index})">Download PDF</button>
                    </td>
                </tr>`;
        });
    }

    function addClient() {
        const name = document.getElementById('clientName').value;
        const email = document.getElementById('clientEmail').value;
        const status = document.getElementById('clientStatus').value;
        if(name && email) {
            clients.push({name, email, status});
            renderClients();
            bootstrap.Modal.getInstance(document.getElementById('addClientModal')).hide();
        }
    }

    function downloadPDF(index) {
        const doc = new jsPDF();
        const client = clients[index];
        doc.text("CLIENT REPORT", 20, 20);
        doc.text(`Name: ${client.name}`, 20, 30);
        doc.text(`Email: ${client.email}`, 20, 40);
        doc.text(`Status: ${client.status}`, 20, 50);
        doc.text(`Generated on: ${new Date().toLocaleDateString()}`, 20, 60);
        doc.save(`${client.name}_Info.pdf`);
    }

    function logout() { location.reload(); }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
