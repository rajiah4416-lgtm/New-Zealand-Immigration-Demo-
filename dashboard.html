<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Immigration Service Delivery | Ireland Portal</title>
    <style>
        :root { --irl-green: #169b62; --irl-orange: #ff883e; --irl-blue: #003366; --ledger-bg: #ffffff; }
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background: #f4f7f6; overflow-x: hidden; }

        /* Irish Side Branding & Checkered Accent */
        .side-branding { position: fixed; left: 0; top: 0; bottom: 0; width: 10px; display: flex; flex-direction: column; z-index: 1000; }
        .stripe-green { background: var(--irl-green); flex: 1; }
        .stripe-white { background: #fff; flex: 1; }
        .stripe-orange { background: var(--irl-orange); flex: 1; }

        /* Top Bar & Live Time */
        .top-nav { background: var(--irl-blue); color: white; padding: 12px 60px; display: flex; justify-content: space-between; font-size: 0.85rem; font-weight: bold; }
        
        /* Official Header */
        header { background: white; padding: 25px 60px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .brand-logo { display: flex; align-items: center; }
        .brand-logo img { width: 45px; margin-right: 15px; }
        .nav-buttons button { background: #f0f0f0; border: 1px solid #ddd; font-weight: bold; color: var(--irl-blue); cursor: pointer; padding: 12px 25px; margin-left: 10px; border-radius: 4px; transition: 0.3s; }
        .nav-buttons button.active { background: var(--irl-green); color: white; border-color: var(--irl-green); }

        /* Page Layouts */
        .page { display: none; padding: 50px 10%; animation: slideUp 0.4s ease-out; }
        .page.active { display: block; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Entry Page Styling */
        .entry-container { background: white; padding: 40px; border-radius: 12px; max-width: 650px; margin: auto; border: 1px solid #e1e1e1; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
        .form-group { margin-bottom: 22px; }
        label { display: block; font-size: 0.8rem; font-weight: 700; margin-bottom: 8px; color: #444; text-transform: uppercase; }
        input, select { width: 100%; padding: 14px; border: 1.5px solid #dce1e5; border-radius: 6px; font-size: 1rem; box-sizing: border-box; }
        input:focus { border-color: var(--irl-green); outline: none; box-shadow: 0 0 0 3px rgba(22, 155, 98, 0.1); }
        .btn-submit { background: var(--irl-green); color: white; border: none; width: 100%; padding: 18px; font-size: 1.1rem; font-weight: bold; cursor: pointer; border-radius: 6px; margin-top: 10px; }

        /* Ledger Page Styling */
        .ledger-container { background: var(--ledger-bg); padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        table { width: 100%; border-collapse: collapse; }
        th { text-align: left; padding: 18px; background: #f9fafb; color: var(--irl-blue); font-size: 0.85rem; border-bottom: 2px solid #edf2f7; }
        td { padding: 18px; border-bottom: 1px solid #f0f0f0; font-size: 0.95rem; }

        /* Checkered Flag Status */
        .status-cell { display: flex; align-items: center; font-weight: bold; text-transform: uppercase; font-size: 0.8rem; }
        .checkered-flag { width: 24px; height: 16px; margin-right: 10px; background-color: #fff;
            background-image: linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000), 
                              linear-gradient(45deg, #000 25%, transparent 25%, transparent 75%, #000 75%, #000);
            background-size: 8px 8px; background-position: 0 0, 4px 4px; border: 1px solid #333; }
        
        .waiting { color: #d69e2e; }
        .approval { color: var(--irl-green); }
        .rejection { color: #e53e3e; }
    </style>
</head>
<body>

<div class="side-branding">
    <div class="stripe-green"></div><div class="stripe-white"></div><div class="stripe-orange"></div>
</div>

<div class="top-nav">
    <div id="live-clock-dublin">Dublin: Loading...</div>
    <div id="live-clock-local">Local: Loading...</div>
</div>

<header>
    <div class="brand-logo">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/45/Flag_of_Ireland.svg" alt="Irish Flag">
        <div>
            <h1 style="margin:0; font-size: 1.6rem; color: #000;">An tSeirbh√≠s Inimirce</h1>
            <p style="margin:0; font-size: 0.9rem; color: #666; font-weight: 500;">Immigration Service Delivery</p>
        </div>
    </div>
    <div class="nav-buttons">
        <button id="btn-entry" class="active" onclick="switchPage('entry')">New Registration</button>
        <button id="btn-ledger" onclick="switchPage('ledger')">Active Case Ledger</button>
    </div>
</header>

<div id="page-entry" class="page active">
    <div class="entry-container">
        <h2 style="margin-top:0; color: var(--irl-blue);">Application Intake Form</h2>
        <div class="form-group">
            <label>Full Name</label>
            <input type="text" id="name_in" placeholder="e.g. ADIL HUSSAIN">
        </div>
        <div class="form-group">
            <label>Passport Number</label>
            <input type="text" id="pass_in" placeholder="e.g. UJ6892602">
        </div>
        <div class="form-group">
            <label>Date of Birth</label>
            <input type="date" id="dob_in">
        </div>
        <div class="form-group">
            <label>Visa Reference Number</label>
            <input type="text" id="visa_in" placeholder="IRE-XXXXXX">
        </div>
        <div class="form-group">
            <label>Immigration Status Decision</label>
            <select id="status_in">
                <option value="waiting">Waiting / Pending</option>
                <option value="approval">Final Approval</option>
                <option value="rejection">Application Rejected</option>
            </select>
        </div>
        <button class="btn-submit" onclick="submitToLedger()">Add to Immigration Database</button>
    </div>
</div>

<div id="page-ledger" class="page">
    <div class="ledger-container">
        <h2 style="margin-top:0; color: var(--irl-blue); border-bottom: 2px solid #f0f0f0; padding-bottom: 15px;">Active Case Records</h2>
        <table>
            <thead>
                <tr>
                    <th>NAME</th>
                    <th>PASSPORT</th>
                    <th>VISA REF</th>
                    <th>DATE OF BIRTH</th>
                    <th>IMMIGRATION STATUS</th>
                </tr>
            </thead>
            <tbody id="ledger-body">
                </tbody>
        </table>
    </div>
</div>

<script>
    // Live Dublin Time & Today's Date
    function runClocks() {
        const now = new Date();
        const optionsDate = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
        const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
        
        const dublinDate = now.toLocaleDateString('en-GB', { ...optionsDate, timeZone: 'Europe/Dublin' });
        const dublinTime = now.toLocaleTimeString('en-GB', { ...optionsTime, timeZone: 'Europe/Dublin' });
        const localTime = now.toLocaleTimeString('en-GB', optionsTime);

        document.getElementById('live-clock-dublin').innerText = `Dublin: ${dublinDate} | ${dublinTime}`;
        document.getElementById('live-clock-local').innerText = `Local: ${localTime}`;
    }
    setInterval(runClocks, 1000);
    runClocks();

    // Page Switching
    function switchPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-buttons button').forEach(b => b.classList.remove('active'));
        document.getElementById('page-' + id).classList.add('active');
        document.getElementById('btn-' + id).classList.add('active');
    }

    // Database Logic
    let db = [];

    function submitToLedger() {
        const client = {
            name: document.getElementById('name_in').value.toUpperCase(),
            pass: document.getElementById('pass_in').value.toUpperCase(),
            dob: document.getElementById('dob_in').value,
            visa: document.getElementById('visa_in').value,
            status: document.getElementById('status_in').value
        };

        if(!client.name || !client.pass) {
            alert("Mandatory Error: Full Name and Passport are required.");
            return;
        }

        db.push(client);
        refreshTable();
        switchPage('ledger');
        
        // Reset inputs
        document.getElementById('name_in').value = "";
        document.getElementById('pass_in').value = "";
    }

    function refreshTable() {
        const tbody = document.getElementById('ledger-body');
        tbody.innerHTML = "";
        db.forEach(c => {
            const row = `<tr>
                <td><strong>${c.name}</strong></td>
                <td>${c.pass}</td>
                <td>${c.visa}</td>
                <td>${c.dob}</td>
                <td>
                    <div class="status-cell ${c.status}">
                        <div class="checkered-flag"></div>
                        ${c.status}
                    </div>
                </td>
            </tr>`;
            tbody.innerHTML += row;
        });
    }
</script>
</body>
</html>
